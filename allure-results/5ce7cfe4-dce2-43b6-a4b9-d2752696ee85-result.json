{"name": "test_sorting_by_price", "status": "failed", "statusDetails": {"message": "AssertionError: Prices not sorted ascending: [15.99, 7.99, 49.99, 9.99, 29.99]\n  Original prices: [29.99, 9.99, 15.99, 49.99, 7.99]\n  If this fails, paste the full debug output and page-source so I can tune locators.\nassert [15.99, 7.99,..., 9.99, 29.99] == [7.99, 9.99, ... 29.99, 49.99]\n  At index 0 diff: 15.99 != 7.99\n  Use -v to get more diff", "trace": "driver = <appium.webdriver.webdriver.WebDriver (session=\"0f9caf9d311b60291e141dbd0a7f9f47efb427a2\")>\n\n    def test_sorting_by_price(driver):\n        \"\"\"Verify sort-by-price (low->high) works — robust multi-fallback approach with helpful debug output.\"\"\"\n        login(driver)\n        from pages.products_page import ProductsPage\n        pp = ProductsPage(driver)\n        pp.wait_for_products()\n    \n        # capture original prices for debug\n        original = _collect_prices_after_sort(driver)\n        print(f\"[DEBUG] Original prices: {original}\")\n    \n        # open sort control\n        opened = _open_sort_control(driver)\n        if not opened:\n            pytest.skip(\"Could not open sort control on this build\")\n    \n        # choose option preferring text 'Price (low to high)'\n        chosen_text, ok = _choose_sort_option(driver, prefer_text=\"Price (low to high)\")\n        print(f\"[DEBUG] Chosen sort option text: {chosen_text!r}, clicked_ok={ok}\")\n    \n        time.sleep(1.0)  # allow UI to update\n    \n        prices_after = _collect_prices_after_sort(driver)\n        print(f\"[DEBUG] Prices after selecting option '{chosen_text}': {prices_after}\")\n    \n        if not prices_after:\n            # helpful debug\n            src = (driver.page_source or \"\")[:2000]\n            pytest.fail(\"No prices found after sorting. Page-source start:\\n\" + src)\n    \n        # If not sorted, try a second explicit attempt to pick the exact option\n        if prices_after != sorted(prices_after) and not (chosen_text and \"low\" in (chosen_text or \"\").lower()):\n            # re-open and retry explicit pick\n            _open_sort_control(driver)\n            chosen_text2, ok2 = _choose_sort_option(driver, prefer_text=\"Price (low to high)\")\n            print(f\"[DEBUG] Retry chosen '{chosen_text2}', ok={ok2}\")\n            time.sleep(1.0)\n            prices_after = _collect_prices_after_sort(driver)\n            print(f\"[DEBUG] Prices after retry selecting '{chosen_text2}': {prices_after}\")\n    \n        # Final assertion\n>       assert prices_after == sorted(prices_after), (\n            f\"Prices not sorted ascending: {prices_after}\\nOriginal prices: {original}\\n\"\n            \"If this fails, paste the full debug output and page-source so I can tune locators.\"\n        )\nE       AssertionError: Prices not sorted ascending: [15.99, 7.99, 49.99, 9.99, 29.99]\nE         Original prices: [29.99, 9.99, 15.99, 49.99, 7.99]\nE         If this fails, paste the full debug output and page-source so I can tune locators.\nE       assert [15.99, 7.99,..., 9.99, 29.99] == [7.99, 9.99, ... 29.99, 49.99]\nE         At index 0 diff: 15.99 != 7.99\nE         Use -v to get more diff\n\ntests\\test_products_cart_sorting.py:292: AssertionError"}, "description": "Verify sort-by-price (low->high) works — robust multi-fallback approach with helpful debug output.", "start": 1758032724140, "stop": 1758032743281, "uuid": "1d4bf7ab-2451-4636-bf6e-f39f01c23f44", "historyId": "9a088125d44c350e3ba79d110eea5bb3", "testCaseId": "f53a28c62ea3db8c900cfbc05db17b3d", "fullName": "tests.test_products_cart_sorting#test_sorting_by_price", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_products_cart_sorting"}, {"name": "host", "value": "DB-L-174"}, {"name": "thread", "value": "19300-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_products_cart_sorting"}]}